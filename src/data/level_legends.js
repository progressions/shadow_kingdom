// Per-level PNG map configuration and color legends
// Extracted from src/main.js to reduce size and centralize content data
import { introTexts } from './intro_texts.js';

// Shared hex color constants used across multiple levels
export const COMMON_COLORS = {
  PLAYER_SPAWN: 'ffffff',
  WALL_STONE: '6d758d',
  ROCK_BLACK: '060608',
  CACTUS_GREEN: '1a7a3e',
  GATE_BROWN: 'bb7547',
  LAVA_RED: 'b4202a',
  WATER_BLUE: '249fde',
  TORCH_NODE_PALE: 'fef3c0',
  SPAWN_GUARDIAN: 'b9bffb',
  SPAWN_BOSS: 'df3e23',
  SPAWN_MOOK: 'ffd541',
  SPAWN_FEATURED: 'fffc40',
  SPAWN_LEASHED_MOOK: 'd6f264',
  SPAWN_LEASHED_FEATURED: '9cdb43',
  SPAWN_LEASHED_FEATURED_RANGED: '59c135',
  SPAWNER_MOOK: 'a08662',
  SPAWNER_FEATURED: '796755',
  BARREL: '92dcba',
  CHEST: 'cdf7e2',
  WOOD_PLANKS: '71413b',
  TREE_DARK_GREEN: '23674e',
  REED_GREEN: '328464',
  GRASS_TAN: 'dba463',
  STONE_FLOOR: '122020',
  WOOD_WALL: 'f4d29c',
  MARBLE: 'dae0ea',
  GOLD_WALL: 'b3b9d1',
};

export const LEVEL_LEGENDS = {
  1: {
    url: 'assets/maps/level_1.png',
    legend: {
      theme: 'default',
      colors: {
        '49aa10': { type: 'grass' },
        '8a8a00': { type: 'wood' },
        '797979': { type: 'wall' },
        'a2a2a2': { type: 'rock' },
        '386d00': { type: 'tree' },
        '4161fb': { type: 'water' },
        'a2ffcb': { type: 'torch_node' },
        '794100': { type: 'gate' },
        [COMMON_COLORS.PLAYER_SPAWN]: { type: 'player_spawn' },
        '61d3e3': { type: 'canopy_spawn' },
        'c3b2ff': { type: 'hola_spawn' },
        'a271ff': { type: 'yorna_spawn' },
        '71f341': { type: 'chest_dagger' },
        'a2f3a2': { type: 'chest_bow' },
        'ffbaeb': { type: 'barrel' },
        '9a2079': { type: 'spawn_mook' },
        'ff61b2': { type: 'spawn_featured_ranged' },
        'db4161': { type: 'spawn_guardian' },
        'b21030': { type: 'spawn_boss' },
        'db41c3': { type: 'spawn_leashed_mook' },
        'f361ff': { type: 'spawn_leashed_featured' },
        'e3b2ff': { type: 'spawn_leashed_featured_ranged' },
        'a08662': { type: 'spawner_mook' },
        '796755': { type: 'spawner_featured' },
      },
    },
  },
  2: {
    url: 'assets/maps/level_2.png',
    legend: {
      theme: 'desert',
      gate: { id: 'nethra_gate', keyId: 'key_nethra' },
      colors: {
        [COMMON_COLORS.GRASS_TAN]: { type: 'grass' },
        [COMMON_COLORS.WALL_STONE]: { type: 'wall' },
        [COMMON_COLORS.ROCK_BLACK]: { type: 'rock' },
        [COMMON_COLORS.CACTUS_GREEN]: { type: 'cactus' },
        [COMMON_COLORS.GATE_BROWN]: { type: 'gate' },
        [COMMON_COLORS.LAVA_RED]: { type: 'lava' },
        [COMMON_COLORS.PLAYER_SPAWN]: { type: 'player_spawn' },
        [COMMON_COLORS.SPAWN_BOSS]: { type: 'spawn_boss' },
        [COMMON_COLORS.SPAWN_GUARDIAN]: { type: 'spawn_guardian' },
        [COMMON_COLORS.SPAWN_MOOK]: { type: 'spawn_mook' },
        [COMMON_COLORS.SPAWN_FEATURED]: { type: 'spawn_featured' },
        [COMMON_COLORS.SPAWN_LEASHED_MOOK]: { type: 'spawn_leashed_mook' },
        [COMMON_COLORS.SPAWN_LEASHED_FEATURED]: { type: 'spawn_leashed_featured' },
        [COMMON_COLORS.SPAWN_LEASHED_FEATURED_RANGED]: { type: 'spawn_leashed_featured_ranged' },
        '14a02e': { type: 'oyin_spawn' },
        '24523b': { type: 'twil_spawn' },
        [COMMON_COLORS.BARREL]: { type: 'barrel' },
        [COMMON_COLORS.CHEST]: { type: 'chest' },
      },
    },
  },
  3: {
    url: 'assets/maps/level_3.png',
    legend: {
      theme: 'marsh',
      gate: { id: 'marsh_gate', keyId: 'key_reed' },
      tolerance: 14,
      tolerantTypes: ['grass'],
      actors: {
        guardian: { kind: 'featured', opts: { name: 'Blurb', vnId: 'enemy:blurb', sheet: 'blurb', portrait: 'assets/portraits/level04/Blurb/Blurb.mp4', vnOnSight: { text: introTexts.blurb }, guaranteedDropId: 'key_reed', guardian: true, hp: 64, dmg: 8, hitCooldown: 0.55 } },
        boss: { name: 'Luula', vnId: 'enemy:luula', sheet: 'luula', portrait: 'assets/portraits/level03/Luula/Luula.mp4', portraitPowered: 'assets/portraits/level03/Luula/Luula powered.mp4', portraitDefeated: 'assets/portraits/level03/Luula/Luula defeated.mp4', vnOnSight: { text: introTexts.luula }, onDefeatNextLevel: 4, hp: 65, dmg: 11, speed: 14, hitCooldown: 0.65, ap: 2 },
      },
      colors: {
        [COMMON_COLORS.GRASS_TAN]: { type: 'grass' },
        [COMMON_COLORS.WALL_STONE]: { type: 'wall' },
        [COMMON_COLORS.ROCK_BLACK]: { type: 'rock' },
        [COMMON_COLORS.WOOD_PLANKS]: { type: 'wood' },
        [COMMON_COLORS.GATE_BROWN]: { type: 'gate' },
        [COMMON_COLORS.WATER_BLUE]: { type: 'water' },
        [COMMON_COLORS.REED_GREEN]: { type: 'reed' },
        [COMMON_COLORS.TREE_DARK_GREEN]: { type: 'tree' },
        [COMMON_COLORS.CACTUS_GREEN]: { type: 'cactus' },
        [COMMON_COLORS.LAVA_RED]: { type: 'lava' },
        [COMMON_COLORS.PLAYER_SPAWN]: { type: 'player_spawn' },
        '20d6c7': { type: 'ell_spawn' },
        [COMMON_COLORS.SPAWN_GUARDIAN]: { type: 'spawn_guardian' },
        [COMMON_COLORS.SPAWN_BOSS]: { type: 'spawn_boss' },
        [COMMON_COLORS.SPAWN_MOOK]: { type: 'spawn_mook' },
        [COMMON_COLORS.SPAWN_FEATURED]: { type: 'spawn_featured' },
        [COMMON_COLORS.SPAWN_LEASHED_MOOK]: { type: 'spawn_leashed_mook' },
        [COMMON_COLORS.SPAWN_LEASHED_FEATURED]: { type: 'spawn_leashed_featured' },
        [COMMON_COLORS.SPAWN_LEASHED_FEATURED_RANGED]: { type: 'spawn_leashed_featured_ranged' },
        '14a02e': { type: 'tin_spawn' },
        '24523b': { type: 'nellis_spawn' },
        [COMMON_COLORS.SPAWNER_MOOK]: { type: 'spawner_mook' },
        [COMMON_COLORS.SPAWNER_FEATURED]: { type: 'spawner_featured' },
        [COMMON_COLORS.BARREL]: { type: 'barrel' },
        [COMMON_COLORS.CHEST]: { type: 'chest' },
        [COMMON_COLORS.TORCH_NODE_PALE]: { type: 'torch_node' },
      },
    },
  },
  4: {
    url: 'assets/maps/level_4.png',
    legend: {
      theme: 'city',
      gate: { id: 'city_gate', keyId: 'key_sigil' },
      tolerance: 14,
      tolerantTypes: ['grass'],
      actors: {
        guardian: { kind: 'featured', opts: { name: 'Wight', vnId: 'enemy:wight', sheet: 'wight', portrait: 'assets/portraits/level03/Wight/Wight.mp4', vnOnSight: { text: introTexts.wight }, guaranteedDropId: 'key_sigil', guardian: true, hp: 76, dmg: 11, hitCooldown: 0.55, speed: 9, w: 14, h: 18 } },
        boss: { name: 'Vanificia', vnId: 'enemy:vanificia', sheet: 'vanificia', portrait: 'assets/portraits/level04/Vanificia/Vanificia.mp4', portraitPowered: 'assets/portraits/level04/Vanificia/Vanificia powered.mp4', portraitDefeated: 'assets/portraits/level04/Vanificia/Vanificia defeated.mp4', vnOnSight: { text: introTexts.vanificia }, onDefeatNextLevel: 5, hp: 80, dmg: 13, speed: 16, hitCooldown: 0.6, ap: 3 },
      },
      colors: {
        [COMMON_COLORS.GRASS_TAN]: { type: 'grass' },
        [COMMON_COLORS.WALL_STONE]: { type: 'wall' },
        [COMMON_COLORS.ROCK_BLACK]: { type: 'rock' },
        [COMMON_COLORS.GATE_BROWN]: { type: 'gate' },
        [COMMON_COLORS.WOOD_PLANKS]: { type: 'wood' },
        [COMMON_COLORS.TREE_DARK_GREEN]: { type: 'tree' },
        [COMMON_COLORS.CACTUS_GREEN]: { type: 'cactus' },
        [COMMON_COLORS.WATER_BLUE]: { type: 'water' },
        [COMMON_COLORS.REED_GREEN]: { type: 'reed' },
        [COMMON_COLORS.LAVA_RED]: { type: 'lava' },
        [COMMON_COLORS.PLAYER_SPAWN]: { type: 'player_spawn' },
        [COMMON_COLORS.TORCH_NODE_PALE]: { type: 'torch_node' },
        [COMMON_COLORS.SPAWN_GUARDIAN]: { type: 'spawn_guardian' },
        [COMMON_COLORS.SPAWN_BOSS]: { type: 'spawn_boss' },
        [COMMON_COLORS.SPAWN_MOOK]: { type: 'spawn_mook' },
        [COMMON_COLORS.SPAWN_FEATURED]: { type: 'spawn_featured' },
        [COMMON_COLORS.SPAWN_LEASHED_MOOK]: { type: 'spawn_leashed_mook' },
        [COMMON_COLORS.SPAWN_LEASHED_FEATURED]: { type: 'spawn_leashed_featured' },
        [COMMON_COLORS.SPAWN_LEASHED_FEATURED_RANGED]: { type: 'spawn_leashed_featured_ranged' },
        '14a02e': { type: 'urn_spawn' },
        '24523b': { type: 'varabella_spawn' },
        [COMMON_COLORS.SPAWNER_MOOK]: { type: 'spawner_mook' },
        [COMMON_COLORS.SPAWNER_FEATURED]: { type: 'spawner_featured' },
        [COMMON_COLORS.BARREL]: { type: 'barrel' },
        [COMMON_COLORS.CHEST]: { type: 'chest' },
      },
    },
  },
  5: {
    url: 'assets/maps/level_5.png',
    legend: {
      theme: 'temple',
      gate: { id: 'temple_gate', keyId: 'key_temple' },
      actors: {
        guardian: { kind: 'featured', opts: { name: 'Fana', sheet: 'fana_villain', vnId: 'enemy:fana', portrait: 'assets/portraits/level05/Fana/Fana villain.mp4', portraitDefeated: 'assets/portraits/level05/Fana/Fana.mp4', vnOnSight: { text: (introTexts && introTexts.fana_enslaved) || 'Fana: I must... protect the temple...' }, guaranteedDropId: 'key_temple', guardian: true, hp: 92, dmg: 11, hitCooldown: 0.45 } },
        boss: { name: 'Vorthak', vnId: 'enemy:vorthak', sheet: 'vorthak', w: 36, h: 36, portrait: 'assets/portraits/level05/Vorthak/Vorthak.mp4', portraitPowered: 'assets/portraits/level05/Vorthak/Vorthak powered.mp4', portraitOverpowered: 'assets/portraits/level05/Vorthak/Vorthak overpowered.mp4', portraitDefeated: 'assets/portraits/level05/Vorthak/Vorthak defeated.mp4', vnOnSight: { text: (introTexts && introTexts.vorthak) || 'Vorthak: The heart is mine. Turn back or burn.' }, onDefeatNextLevel: 6, hp: 100, dmg: 15, speed: 18, hitCooldown: 0.55, ap: 5 },
      },
      colors: {
        [COMMON_COLORS.STONE_FLOOR]: { type: 'stone_floor' },
        [COMMON_COLORS.WALL_STONE]: { type: 'wall' },
        [COMMON_COLORS.WOOD_WALL]: { type: 'wood_wall' },
        [COMMON_COLORS.MARBLE]: { type: 'marble' },
        [COMMON_COLORS.GOLD_WALL]: { type: 'gold_wall' },
        [COMMON_COLORS.GATE_BROWN]: { type: 'gate' },
        [COMMON_COLORS.LAVA_RED]: { type: 'lava' },
        [COMMON_COLORS.WATER_BLUE]: { type: 'water' },
        [COMMON_COLORS.PLAYER_SPAWN]: { type: 'player_spawn' },
        [COMMON_COLORS.SPAWN_GUARDIAN]: { type: 'spawn_guardian' },
        [COMMON_COLORS.SPAWN_BOSS]: { type: 'spawn_boss' },
        [COMMON_COLORS.SPAWN_MOOK]: { type: 'spawn_mook' },
        [COMMON_COLORS.SPAWN_FEATURED]: { type: 'spawn_featured' },
        [COMMON_COLORS.SPAWN_LEASHED_MOOK]: { type: 'spawn_leashed_mook' },
        [COMMON_COLORS.SPAWN_LEASHED_FEATURED]: { type: 'spawn_leashed_featured' },
        [COMMON_COLORS.SPAWN_LEASHED_FEATURED_RANGED]: { type: 'spawn_leashed_featured_ranged' },
        '14a02e': { type: 'cowsill_spawn' },
        [COMMON_COLORS.REED_GREEN]: { type: 'reed' },
        [COMMON_COLORS.BARREL]: { type: 'barrel' },
        [COMMON_COLORS.CHEST]: { type: 'chest' },
        [COMMON_COLORS.TORCH_NODE_PALE]: { type: 'torch_node' },
        [COMMON_COLORS.SPAWNER_MOOK]: { type: 'spawner_mook' },
        [COMMON_COLORS.SPAWNER_FEATURED]: { type: 'spawner_featured' },
      },
    },
  },
};

export function mapConfigForLevel(lvl) {
  return LEVEL_LEGENDS[lvl] || null;
}
